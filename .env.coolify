# =============================================================================
# TOOVYDROP - COOLIFY DEPLOYMENT ENVIRONMENT VARIABLES
# =============================================================================
# This file contains all environment variables needed for deploying ToovyDrop
# to Coolify. Copy these variables to your Coolify environment configuration.
#
# IMPORTANT: Generate secure values for all secrets before deployment!
# =============================================================================

# -----------------------------------------------------------------------------
# COOLIFY SERVICE CONFIGURATION
# -----------------------------------------------------------------------------
# These variables are automatically managed by Coolify
SERVICE_FQDN_BACKEND=drop-api.toovy.tech
SERVICE_FQDN_FRONTEND=drop.toovy.tech
SERVICE_FQDN_TOOVYDROP=drop.toovy.tech
SERVICE_URL_BACKEND=https://drop-api.toovy.tech/api
SERVICE_URL_BACKEND_WS=wss://drop-api.toovy.tech
SERVICE_URL_FRONTEND=https://drop.toovy.tech

# Coolify will auto-generate these if using Coolify-managed databases
# For external databases, configure the DATABASE_URL and REDIS_URL above
# SERVICE_USER_POSTGRES=  # Not needed for external databases
# SERVICE_PASSWORD_POSTGRES=  # Not needed for external databases  
# SERVICE_PASSWORD_REDIS=  # Not needed for external databases

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (External PostgreSQL Service)
# -----------------------------------------------------------------------------
# Full connection string for external PostgreSQL database
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://username:password@your-postgres-host:5432/toovydrop

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION (External Redis Service)
# -----------------------------------------------------------------------------
# Full connection string for external Redis cache
# Format: redis://username:password@host:port or redis://host:port (if no auth)
REDIS_URL=redis://your-redis-host:6379
REDIS_PASSWORD=your_redis_password

# -----------------------------------------------------------------------------
# JWT AUTHENTICATION SECRETS
# -----------------------------------------------------------------------------
# CRITICAL: Generate cryptographically secure random strings (min 32 chars)
# Use: openssl rand -base64 48
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# -----------------------------------------------------------------------------
# FTP SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Configure your external FTP server details
FTP_HOST=ftp.your-server.com
FTP_PORT=21
FTP_USER=your_ftp_username
FTP_PASSWORD=your_ftp_password
FTP_SECURE=true
FTP_REJECT_UNAUTHORIZED=true

# -----------------------------------------------------------------------------
# FILE UPLOAD CONFIGURATION
# -----------------------------------------------------------------------------
# File size limits and chunk settings
MAX_FILE_SIZE=5368709120
CHUNK_SIZE=5242880

# -----------------------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------------------
# Enable malware scanning (requires ClamAV or similar)
ENABLE_MALWARE_SCAN=true

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# FRONTEND BUILD-TIME VARIABLES
# -----------------------------------------------------------------------------
# These will be injected during the build process
VITE_API_URL=${CUSTOM_API_URL}
VITE_WS_URL=${CUSTOM_WS_URL}

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# □ 1. Set SERVICE_FQDN_TOOVYDROP to your actual domain
# □ 2. Generate and set JWT_ACCESS_SECRET (min 32 chars)
# □ 3. Generate and set JWT_REFRESH_SECRET (min 32 chars)
# □ 4. Configure FTP server details
# □ 5. Set up SSL certificate for your domain
# □ 6. Test database connectivity
# □ 7. Verify file upload directory permissions
# □ 8. Run database migrations after first deployment
# =============================================================================